import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r,o as c,c as i,e as o,a as t,d as a,w as e,f as l,b as d}from"./app-d6438571.js";const p={},u={class:"table-of-contents"},h=l(`<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils device-mapper-persistent-data lvm2
yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> containerd.io
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/containerd
containerd config default <span class="token operator">&gt;</span> /etc/containerd/config.toml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改配置文件" tabindex="-1"><a class="header-anchor" href="#修改配置文件" aria-hidden="true">#</a> 修改配置文件</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">## pause镜像设置过阿里云镜像仓库地址</span>
<span class="token comment">## cgroups驱动设置为systemd</span>
<span class="token comment">## 拉取Docker Hub镜像配置加速地址设置为阿里云镜像仓库地址</span>
<span class="token function">vi</span> /etc/containerd/config.toml
   <span class="token punctuation">[</span>plugins.<span class="token string">&quot;io.containerd.grpc.v1.cri&quot;</span><span class="token punctuation">]</span>
      sandbox_image <span class="token operator">=</span> <span class="token string">&quot;registry.aliyuncs.com/google_containers/pause:3.2&quot;</span>  
         <span class="token punctuation">..</span>.
         <span class="token punctuation">[</span>plugins.<span class="token string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc.options<span class="token punctuation">]</span>
             SystemdCgroup <span class="token operator">=</span> <span class="token boolean">true</span>
             <span class="token punctuation">..</span>.
        <span class="token punctuation">[</span>plugins.<span class="token string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors.<span class="token string">&quot;docker.io&quot;</span><span class="token punctuation">]</span>
          endpoint <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;https://b9pmyelo.mirror.aliyuncs.com&quot;</span><span class="token punctuation">]</span>
          
systemctl restart containerd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker与crictl命令对照表" tabindex="-1"><a class="header-anchor" href="#docker与crictl命令对照表" aria-hidden="true">#</a> docker与crictl命令对照表</h2><h3 id="镜像相关功能" tabindex="-1"><a class="header-anchor" href="#镜像相关功能" aria-hidden="true">#</a> 镜像相关功能</h3><table><thead><tr><th>镜像相关功能</th><th>Docker</th><th>Containerd</th></tr></thead><tbody><tr><td>显示本地镜像列表</td><td>docker images</td><td>crictl images</td></tr><tr><td>下载镜像</td><td>docker pull</td><td>crictl pull</td></tr><tr><td>上传镜像</td><td>docker push</td><td>无，例如buildk</td></tr><tr><td>删除本地镜像</td><td>docker rmi</td><td>crictl rmi</td></tr><tr><td>查看镜像详情</td><td>docker inspect IMAGE-ID</td><td>crictl inspecti IMAGE-ID</td></tr></tbody></table><h3 id="容器相关功能" tabindex="-1"><a class="header-anchor" href="#容器相关功能" aria-hidden="true">#</a> 容器相关功能</h3><table><thead><tr><th>容器相关功能</th><th>Docker</th><th>Containerd</th></tr></thead><tbody><tr><td>显示容器列表</td><td>docker ps</td><td>crictl ps</td></tr><tr><td>创建容器</td><td>docker create</td><td>crictl create</td></tr><tr><td>启动容器</td><td>docker start</td><td>crictl start</td></tr><tr><td>停止容器</td><td>docker stop</td><td>crictl stop</td></tr><tr><td>删除容器</td><td>docker rm</td><td>crictl rm</td></tr><tr><td>查看容器详情</td><td>docker inspect</td><td>crictl inspect</td></tr><tr><td>附加容器</td><td>docker attach</td><td>crictl attach</td></tr><tr><td>执行命令</td><td>docker exec</td><td>crictl exec</td></tr><tr><td>查看日志</td><td>docker logs</td><td>crictl logs</td></tr><tr><td>查看容器资源</td><td>docker stats</td><td>crictl stats</td></tr></tbody></table><h3 id="pod-相关功能" tabindex="-1"><a class="header-anchor" href="#pod-相关功能" aria-hidden="true">#</a> POD 相关功能</h3><table><thead><tr><th>POD 相关功能</th><th>Docker</th><th>Containerd</th></tr></thead><tbody><tr><td>显示 POD 列表</td><td>无</td><td>crictl pods</td></tr><tr><td>查看 POD 详情</td><td>无</td><td>crictl inspectp</td></tr><tr><td>运行 POD</td><td>无</td><td>crictl runp</td></tr><tr><td>停止 POD</td><td>无</td><td>crictl stopp</td></tr></tbody></table>`,11);function m(k,v){const n=r("router-link");return c(),i("div",null,[o(" more "),t("nav",u,[t("ul",null,[t("li",null,[a(n,{to:"#安装"},{default:e(()=>[d("安装")]),_:1})]),t("li",null,[a(n,{to:"#修改配置文件"},{default:e(()=>[d("修改配置文件")]),_:1})]),t("li",null,[a(n,{to:"#docker与crictl命令对照表"},{default:e(()=>[d("docker与crictl命令对照表")]),_:1}),t("ul",null,[t("li",null,[a(n,{to:"#镜像相关功能"},{default:e(()=>[d("镜像相关功能")]),_:1})]),t("li",null,[a(n,{to:"#容器相关功能"},{default:e(()=>[d("容器相关功能")]),_:1})]),t("li",null,[a(n,{to:"#pod-相关功能"},{default:e(()=>[d("POD 相关功能")]),_:1})])])])])]),h])}const f=s(p,[["render",m],["__file","100.Containerd安装.html.vue"]]);export{f as default};
