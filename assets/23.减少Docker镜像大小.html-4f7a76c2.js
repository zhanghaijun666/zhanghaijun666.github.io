const e=JSON.parse('{"key":"v-1d334b78","path":"/61.%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/10.Docker/23.%E5%87%8F%E5%B0%91Docker%E9%95%9C%E5%83%8F%E5%A4%A7%E5%B0%8F.html","title":"减少Docker镜像大小","lang":"zh-CN","frontmatter":{"title":"减少Docker镜像大小","date":"2023-06-02T00:00:00.000Z","category":["容器技术","Docker"],"tag":["Docker"],"description":"为什么要减小 docker 镜像大小？ 安装不必要的软件包会增加攻击面，从而增加安全风险。 镜像传输需要更多时间。 部署大镜像需要更多时间。 1：最小化镜像层 我们可以减少 Dockerfile 中的层数。 dockerfile 中的每个 FROM、RUN、COPY 命令都会创建一个单独的层，并增加镜像的整体大小和构建时间。 要减小 docker镜像大小，请在单个RUN或 COPY指令中执行多个命令来最小化 Dockerfile 中的层数。","head":[["meta",{"property":"og:url","content":"https://haijunit.top/61.%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/10.Docker/23.%E5%87%8F%E5%B0%91Docker%E9%95%9C%E5%83%8F%E5%A4%A7%E5%B0%8F.html"}],["meta",{"property":"og:site_name","content":"学习笔记"}],["meta",{"property":"og:title","content":"减少Docker镜像大小"}],["meta",{"property":"og:description","content":"为什么要减小 docker 镜像大小？ 安装不必要的软件包会增加攻击面，从而增加安全风险。 镜像传输需要更多时间。 部署大镜像需要更多时间。 1：最小化镜像层 我们可以减少 Dockerfile 中的层数。 dockerfile 中的每个 FROM、RUN、COPY 命令都会创建一个单独的层，并增加镜像的整体大小和构建时间。 要减小 docker镜像大小，请在单个RUN或 COPY指令中执行多个命令来最小化 Dockerfile 中的层数。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-06-03T17:10:55.000Z"}],["meta",{"property":"article:author","content":"知识库"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:published_time","content":"2023-06-02T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-06-03T17:10:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"减少Docker镜像大小\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-06-02T00:00:00.000Z\\",\\"dateModified\\":\\"2023-06-03T17:10:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"知识库\\",\\"url\\":\\"https://haijunit.top\\",\\"email\\":\\"zhanghaijun_java@163.com\\"}]}"]]},"headers":[{"level":2,"title":"为什么要减小 docker 镜像大小？","slug":"为什么要减小-docker-镜像大小","link":"#为什么要减小-docker-镜像大小","children":[]},{"level":2,"title":"1：最小化镜像层","slug":"_1-最小化镜像层","link":"#_1-最小化镜像层","children":[]},{"level":2,"title":"2：使用 Docker Squash减小镜像大小","slug":"_2-使用-docker-squash减小镜像大小","link":"#_2-使用-docker-squash减小镜像大小","children":[]},{"level":2,"title":"3：使用较小的基础镜像","slug":"_3-使用较小的基础镜像","link":"#_3-使用较小的基础镜像","children":[]},{"level":2,"title":"4：使用多阶段构建来减小大小","slug":"_4-使用多阶段构建来减小大小","link":"#_4-使用多阶段构建来减小大小","children":[]},{"level":2,"title":"5：apt安装中使用 --no-install-recommends 标志","slug":"_5-apt安装中使用-no-install-recommends-标志","link":"#_5-apt安装中使用-no-install-recommends-标志","children":[]},{"level":2,"title":"6：在 apt install 命令后添加rm -rf /var/lib/apt/lists/*","slug":"_6-在-apt-install-命令后添加rm-rf-var-lib-apt-lists","link":"#_6-在-apt-install-命令后添加rm-rf-var-lib-apt-lists","children":[]},{"level":2,"title":"7：使用 .dockerignore文件","slug":"_7-使用-dockerignore文件","link":"#_7-使用-dockerignore文件","children":[]},{"level":2,"title":"8：在 RUN 之后放置 COPY","slug":"_8-在-run-之后放置-copy","link":"#_8-在-run-之后放置-copy","children":[]},{"level":2,"title":"9：安装后删除软件包","slug":"_9-安装后删除软件包","link":"#_9-安装后删除软件包","children":[]},{"level":2,"title":"10：使用 Docker镜像缩容工具","slug":"_10-使用-docker镜像缩容工具","link":"#_10-使用-docker镜像缩容工具","children":[]}],"git":{"createdTime":1685812255000,"updatedTime":1685812255000,"contributors":[{"name":"zhanghaijun","email":"zhanghaijun@bjtxra.com","commits":1}]},"readingTime":{"minutes":4.86,"words":1459},"filePathRelative":"61.容器技术/10.Docker/23.减少Docker镜像大小.md","localizedDate":"2023年6月2日","excerpt":"<!-- more -->\\n\\n<h2> 为什么要减小 docker 镜像大小？</h2>\\n<ol>\\n<li>安装不必要的软件包会增加攻击面，从而增加安全风险。</li>\\n<li>镜像传输需要更多时间。</li>\\n<li>部署大镜像需要更多时间。</li>\\n</ol>\\n<h2> 1：最小化镜像层</h2>\\n<p>我们可以减少 <code>Dockerfile</code> 中的层数。</p>\\n<p><code>dockerfile</code> 中的每个 FROM、RUN、COPY 命令都会创建一个单独的层，并增加镜像的整体大小和构建时间。</p>\\n<p>要减小 <code>docker</code>镜像大小，请在单个<code>RUN</code>或 <code>COPY</code>指令中执行多个命令来最小化 <code>Dockerfile</code> 中的层数。</p>","autoDesc":true}');export{e as data};
