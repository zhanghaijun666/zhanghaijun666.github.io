const t=JSON.parse(`{"key":"v-ff8c2e08","path":"/62.%E9%9B%86%E6%88%90%E9%85%8D%E7%BD%AE/31.Nginx/31.%E8%87%AA%E5%8A%A8%E5%B0%81%E7%A6%81IP.html","title":"自动封禁IP","lang":"zh-CN","frontmatter":{"title":"自动封禁IP","date":"2023-02-24T00:00:00.000Z","category":["集成配置","Nginx"],"tag":["nginx"],"description":"nginx统计 ## AWK统计access.log，记录每分钟访问超过60次的ip awk '{print $1}' access.log | sort | uniq -cd | awk '{if($1&gt;60)print $0}' # 1. awk '{print $1}' access.log 取出access.log的第一列即为ip。 # 2. sort | uniq -cd 去重和排序 # 3. awk '{if($1&gt;60)print $0}' 判断重复的数量是否超过60个，超过60个就展示出来","head":[["meta",{"property":"og:url","content":"https://haijunit.top/62.%E9%9B%86%E6%88%90%E9%85%8D%E7%BD%AE/31.Nginx/31.%E8%87%AA%E5%8A%A8%E5%B0%81%E7%A6%81IP.html"}],["meta",{"property":"og:site_name","content":"学习笔记"}],["meta",{"property":"og:title","content":"自动封禁IP"}],["meta",{"property":"og:description","content":"nginx统计 ## AWK统计access.log，记录每分钟访问超过60次的ip awk '{print $1}' access.log | sort | uniq -cd | awk '{if($1&gt;60)print $0}' # 1. awk '{print $1}' access.log 取出access.log的第一列即为ip。 # 2. sort | uniq -cd 去重和排序 # 3. awk '{if($1&gt;60)print $0}' 判断重复的数量是否超过60个，超过60个就展示出来"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-23T07:13:54.000Z"}],["meta",{"property":"article:author","content":"知识库"}],["meta",{"property":"article:tag","content":"nginx"}],["meta",{"property":"article:published_time","content":"2023-02-24T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-23T07:13:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"自动封禁IP\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-02-24T00:00:00.000Z\\",\\"dateModified\\":\\"2023-05-23T07:13:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"知识库\\",\\"url\\":\\"https://haijunit.top\\",\\"email\\":\\"zhanghaijun_java@163.com\\"}]}"]]},"headers":[{"level":2,"title":"nginx统计","slug":"nginx统计","link":"#nginx统计","children":[]},{"level":2,"title":"脚本编写","slug":"脚本编写","link":"#脚本编写","children":[]},{"level":2,"title":"crontab定时","slug":"crontab定时","link":"#crontab定时","children":[]}],"git":{"createdTime":1684826034000,"updatedTime":1684826034000,"contributors":[{"name":"zhanghaijun","email":"zhanghaijun@bjtxra.com","commits":1}]},"readingTime":{"minutes":1.15,"words":345},"filePathRelative":"62.集成配置/31.Nginx/31.自动封禁IP.md","localizedDate":"2023年2月24日","excerpt":"<h2> nginx统计</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-ext=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"token comment\\">## AWK统计access.log，记录每分钟访问超过60次的ip</span>\\n<span class=\\"token function\\">awk</span> <span class=\\"token string\\">'{print $1}'</span> access.log <span class=\\"token operator\\">|</span> <span class=\\"token function\\">sort</span> <span class=\\"token operator\\">|</span> <span class=\\"token function\\">uniq</span> <span class=\\"token parameter variable\\">-cd</span> <span class=\\"token operator\\">|</span> <span class=\\"token function\\">awk</span> <span class=\\"token string\\">'{if($1&gt;60)print $0}'</span>\\n\\n<span class=\\"token comment\\"># 1. awk '{print $1}' access.log   取出access.log的第一列即为ip。</span>\\n<span class=\\"token comment\\"># 2. sort | uniq -cd  去重和排序</span>\\n<span class=\\"token comment\\"># 3. awk '{if($1&gt;60)print $0}' 判断重复的数量是否超过60个，超过60个就展示出来</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{t as data};
