const n=JSON.parse('{"key":"v-d8b7b19c","path":"/30.%E7%BC%96%E7%A8%8B%E6%8A%80%E5%B7%A7/15.VUE%E5%BA%94%E7%94%A8/71.Vue3%E4%B9%8B%E7%BB%84%E4%BB%B6%E9%97%B4%E4%BC%A0%E5%80%BC%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97.html","title":"Vue3之组件间传值避坑指南","lang":"zh-CN","frontmatter":{"title":"Vue3之组件间传值避坑指南","date":"2023-05-14T00:00:00.000Z","category":["编程技巧","VUE应用"],"tag":["VUE应用"],"description":"组件间传值的两个坑 本文主要是讲解了组件传值过程中的两个容易犯的小错误 一、是父组件传递过来的值不能修改 二、是父组件使用“-”分隔符定义属性传递值到子组件，子组件接收时需要将属性名改为驼峰命名方式 坑一、父组件传递过来的值是只读的 &lt;!DOCTYPE html&gt; &lt;html lang=\\"en\\"&gt; &lt;head&gt; &lt;meta charset=\\"UTF-8\\" /&gt; &lt;meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\" /&gt; &lt;meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\" /&gt; &lt;script src=\\"https://unpkg.com/vue@next\\"&gt;&lt;/script&gt; &lt;title&gt;组件间传值&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\\"root\\"&gt;&lt;/div&gt; &lt;/body&gt; &lt;script&gt; const app = Vue.createApp({ data() { return { num: 0 }; }, template: ` &lt;div&gt; &lt;counter :count = \\"num\\"/&gt; &lt;/div&gt; ` }); // 错误示例 对父组件传递过来的值做操作时，发现操作无效， app.component(\'counter\',{ props: [\'count\'], template: `&lt;div @click=\\"count+=1\\"&gt;{{count}}&lt;/div&gt;` }); // 正确示例 复制一份父组件传递过来的值，对我们自己的值进行操作： app.component(\\"counter\\", { props: [\\"count\\"], data() { return { mCount: this.count }; }, template: `&lt;div @click=\\"mCount+=1\\"&gt;{{mCount}}&lt;/div&gt;` }); const vm = app.mount(\\"#root\\"); &lt;/script&gt; &lt;/html&gt;","head":[["meta",{"property":"og:url","content":"https://haijunit.top/30.%E7%BC%96%E7%A8%8B%E6%8A%80%E5%B7%A7/15.VUE%E5%BA%94%E7%94%A8/71.Vue3%E4%B9%8B%E7%BB%84%E4%BB%B6%E9%97%B4%E4%BC%A0%E5%80%BC%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97.html"}],["meta",{"property":"og:site_name","content":"学习笔记"}],["meta",{"property":"og:title","content":"Vue3之组件间传值避坑指南"}],["meta",{"property":"og:description","content":"组件间传值的两个坑 本文主要是讲解了组件传值过程中的两个容易犯的小错误 一、是父组件传递过来的值不能修改 二、是父组件使用“-”分隔符定义属性传递值到子组件，子组件接收时需要将属性名改为驼峰命名方式 坑一、父组件传递过来的值是只读的 &lt;!DOCTYPE html&gt; &lt;html lang=\\"en\\"&gt; &lt;head&gt; &lt;meta charset=\\"UTF-8\\" /&gt; &lt;meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\" /&gt; &lt;meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\" /&gt; &lt;script src=\\"https://unpkg.com/vue@next\\"&gt;&lt;/script&gt; &lt;title&gt;组件间传值&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\\"root\\"&gt;&lt;/div&gt; &lt;/body&gt; &lt;script&gt; const app = Vue.createApp({ data() { return { num: 0 }; }, template: ` &lt;div&gt; &lt;counter :count = \\"num\\"/&gt; &lt;/div&gt; ` }); // 错误示例 对父组件传递过来的值做操作时，发现操作无效， app.component(\'counter\',{ props: [\'count\'], template: `&lt;div @click=\\"count+=1\\"&gt;{{count}}&lt;/div&gt;` }); // 正确示例 复制一份父组件传递过来的值，对我们自己的值进行操作： app.component(\\"counter\\", { props: [\\"count\\"], data() { return { mCount: this.count }; }, template: `&lt;div @click=\\"mCount+=1\\"&gt;{{mCount}}&lt;/div&gt;` }); const vm = app.mount(\\"#root\\"); &lt;/script&gt; &lt;/html&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-23T07:13:54.000Z"}],["meta",{"property":"article:author","content":"知识库"}],["meta",{"property":"article:tag","content":"VUE应用"}],["meta",{"property":"article:published_time","content":"2023-05-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-23T07:13:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Vue3之组件间传值避坑指南\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-05-14T00:00:00.000Z\\",\\"dateModified\\":\\"2023-05-23T07:13:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"知识库\\",\\"url\\":\\"https://haijunit.top\\",\\"email\\":\\"zhanghaijun_java@163.com\\"}]}"]]},"headers":[{"level":2,"title":"组件间传值的两个坑","slug":"组件间传值的两个坑","link":"#组件间传值的两个坑","children":[]},{"level":2,"title":"坑一、父组件传递过来的值是只读的","slug":"坑一、父组件传递过来的值是只读的","link":"#坑一、父组件传递过来的值是只读的","children":[]},{"level":2,"title":"坑二、子组件接收属性名应为驼峰命名","slug":"坑二、子组件接收属性名应为驼峰命名","link":"#坑二、子组件接收属性名应为驼峰命名","children":[]}],"git":{"createdTime":1684826034000,"updatedTime":1684826034000,"contributors":[{"name":"zhanghaijun","email":"zhanghaijun@bjtxra.com","commits":1}]},"readingTime":{"minutes":2.07,"words":620},"filePathRelative":"30.编程技巧/15.VUE应用/71.Vue3之组件间传值避坑指南.md","localizedDate":"2023年5月14日","excerpt":"<h2> 组件间传值的两个坑</h2>\\n<blockquote>\\n<p>本文主要是讲解了组件传值过程中的两个容易犯的小错误</p>\\n</blockquote>\\n<ul>\\n<li>一、是父组件传递过来的值不能修改</li>\\n<li>二、是父组件使用“-”分隔符定义属性传递值到子组件，子组件接收时需要将属性名改为驼峰命名方式</li>\\n</ul>\\n<h2> 坑一、父组件传递过来的值是只读的</h2>\\n<div class=\\"language-html line-numbers-mode\\" data-ext=\\"html\\"><pre class=\\"language-html\\"><code><span class=\\"token doctype\\"><span class=\\"token punctuation\\">&lt;!</span><span class=\\"token doctype-tag\\">DOCTYPE</span> <span class=\\"token name\\">html</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>html</span> <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>en<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>head</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">charset</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>UTF-8<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">http-equiv</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>X-UA-Compatible<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">content</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>IE=edge<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">name</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>viewport<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">content</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>width=device-width,initial-scale=1<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span> <span class=\\"token attr-name\\">src</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>https://unpkg.com/vue@next<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>title</span><span class=\\"token punctuation\\">&gt;</span></span>组件间传值<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>title</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>head</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>body</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">id</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>root<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>body</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"><span class=\\"token language-javascript\\">\\n    <span class=\\"token keyword\\">const</span> app <span class=\\"token operator\\">=</span> Vue<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">createApp</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token function\\">data</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">{</span>\\n          <span class=\\"token literal-property property\\">num</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">0</span>\\n        <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n      <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token literal-property property\\">template</span><span class=\\"token operator\\">:</span> <span class=\\"token template-string\\"><span class=\\"token template-punctuation string\\">`</span><span class=\\"token string\\">\\n                &lt;div&gt;\\n                   &lt;counter :count = \\"num\\"/&gt;\\n                &lt;/div&gt;\\n                </span><span class=\\"token template-punctuation string\\">`</span></span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token comment\\">// 错误示例  对父组件传递过来的值做操作时，发现操作无效，</span>\\n    app<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">component</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\'counter\'</span><span class=\\"token punctuation\\">,</span><span class=\\"token punctuation\\">{</span>\\n       <span class=\\"token literal-property property\\">props</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\'count\'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token literal-property property\\">template</span><span class=\\"token operator\\">:</span> <span class=\\"token template-string\\"><span class=\\"token template-punctuation string\\">`</span><span class=\\"token string\\">&lt;div @click=\\"count+=1\\"&gt;{{count}}&lt;/div&gt;</span><span class=\\"token template-punctuation string\\">`</span></span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token comment\\">// 正确示例  复制一份父组件传递过来的值，对我们自己的值进行操作：</span>\\n    app<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">component</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"counter\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token literal-property property\\">props</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"count\\"</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token function\\">data</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">{</span>\\n          <span class=\\"token literal-property property\\">mCount</span><span class=\\"token operator\\">:</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>count\\n        <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n      <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token literal-property property\\">template</span><span class=\\"token operator\\">:</span> <span class=\\"token template-string\\"><span class=\\"token template-punctuation string\\">`</span><span class=\\"token string\\">&lt;div @click=\\"mCount+=1\\"&gt;{{mCount}}&lt;/div&gt;</span><span class=\\"token template-punctuation string\\">`</span></span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token keyword\\">const</span> vm <span class=\\"token operator\\">=</span> app<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">mount</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"#root\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  </span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>html</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{n as data};
