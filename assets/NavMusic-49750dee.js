import{g as y,i as v,k as f,m as h,_ as g,V as p,r as E,o as b,W as P,w as x,a as c,Q as w,d as C}from"./app-d6438571.js";import I from"./MyIcon-95fac8cb.js";import{_ as k}from"./plugin-vue_export-helper-c27b6911.js";const N="//file.mo7.cc/music/",u=a=>{const s=`${N}${a.name}-${a.artist}`;return{name:a.name,artist:a.artist,url:`${s}/audio.mp3`,cover:`${s}/cover.webp`,lrc:`${s}/lyrics.lrc`}},l=[];l.push(u({name:"光年之外",artist:"G.E.M.邓紫棋"}));l.push(u({name:"泡沫",artist:"G.E.M.邓紫棋"}));l.push(u({name:"喜欢你",artist:"G.E.M.邓紫棋"}));const A={class:"MyMusic"},B=c("div",{id:"GlobalAPlayer"},null,-1),G=y({__name:"NavMusic",setup(a){let s;const o=v(!1),M=()=>{o.value=!o.value},r=()=>{o.value=!1},d=()=>{const n=document.querySelector(".navbar-end");if(!n)return;if(!document.querySelector("#MyMusic_Menu")){const e=document.createElement("div");e.id="MyMusic_Menu",e.classList.add("nav-item"),e.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',n.appendChild(e)}const t=document.querySelector("#MyMusic_Menu"),i=document.querySelector(".MyMusic");t.onclick=e=>{M(),e.stopPropagation()},i.onclick=e=>{e.stopPropagation()}},m=n=>{if(!n)return;const t=document.getElementById("GlobalAPlayer");!t||t.classList.contains("aplayer")||(s=new n({container:document.getElementById("GlobalAPlayer"),audio:l,lrcType:3,listFolded:!1,listMaxHeight:"324px",mini:!1,fixed:!1,volume:1,storageName:"GlobalAPlayer"}),s.on("play",()=>{var e;(e=document.getElementById("MyMusic_icon"))==null||e.setAttribute("data-spin","")}),s.on("pause",()=>{var e;(e=document.getElementById("MyMusic_icon"))==null||e.removeAttribute("data-spin")}))},_=()=>{window.location.pathname.includes("/music/")&&s&&s.pause()};return f(()=>{const n=h();g(()=>import("./APlayer.min-fa6b0924.js").then(t=>t.A),["assets/APlayer.min-fa6b0924.js","assets/app-d6438571.js"]).then(({default:t})=>{p(()=>{d(),m(t),_(),window.document.body.onclick=()=>{r()}}),n.beforeEach(()=>{p(()=>{setTimeout(()=>{d(),m(t)},50),setTimeout(()=>{_()},2e3)})})})}),(n,t)=>{const i=E("ClientOnly");return b(),P(i,null,{default:x(()=>[c("div",A,[c("div",{class:w(["MyMusic_Play",{hide:!o.value}])},[c("div",{class:"close",onClick:r},[C(I,{name:"guanbi"})]),B],2)])]),_:1})}}});const q=k(G,[["__file","NavMusic.vue"]]);export{q as default};
