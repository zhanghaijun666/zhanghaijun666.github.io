import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as i,c,a,b as e,d as s,e as d,w as r,f as p}from"./app-d6438571.js";const u={},m={href:"https://mp.weixin.qq.com/s/SmH663CN5cBDe86-WToAXg",target:"_blank",rel:"noopener noreferrer"},v={class:"table-of-contents"},b=p(`<h2 id="部署-argocd" tabindex="-1"><a class="header-anchor" href="#部署-argocd" aria-hidden="true">#</a> 部署 ArgoCD</h2><h3 id="yaml部署" tabindex="-1"><a class="header-anchor" href="#yaml部署" aria-hidden="true">#</a> yaml部署</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>kubectl create namespace argo
kubectl apply <span class="token parameter variable">-n</span> ArgoCD <span class="token parameter variable">-f</span> https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="helm部署" tabindex="-1"><a class="header-anchor" href="#helm部署" aria-hidden="true">#</a> helm部署</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>helm repo <span class="token function">add</span> argo https://argoproj.github.io/argo-helm

helm <span class="token function">install</span> argo-cd <span class="token punctuation">\\</span>
  <span class="token parameter variable">--namespace</span><span class="token operator">=</span>argo --create-namespace <span class="token punctuation">\\</span>
  <span class="token parameter variable">--set</span> <span class="token assign-left variable">server.service.type</span><span class="token operator">=</span>NodePort <span class="token punctuation">\\</span>
  argo/argo-cd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看运行" tabindex="-1"><a class="header-anchor" href="#查看运行" aria-hidden="true">#</a> 查看运行</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>kubectl <span class="token parameter variable">-n</span> argo get pods
kubectl <span class="token parameter variable">-n</span> argo get svc
kubectl patch svc argocd-server <span class="token parameter variable">-n</span> argo <span class="token parameter variable">-p</span> <span class="token string">&#39;{&quot;spec&quot;: {&quot;type&quot;: &quot;NodePort&quot;}}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装-argo-cd-cli" tabindex="-1"><a class="header-anchor" href="#安装-argo-cd-cli" aria-hidden="true">#</a> 安装 Argo CD CLI</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://github.com/argoproj/argo-cd/releases/download/v1.7.10/argocd-linux-amd64
<span class="token function">cp</span> argocd-linux-amd64 /usr/local/bin/Argo CD
<span class="token function">chmod</span> +x /usr/local/bin/Argo CD

Argo CD version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">## 获取密码</span>
<span class="token assign-left variable">podName</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span>kubectl get pods <span class="token parameter variable">-n</span> Argo CD <span class="token parameter variable">-l</span> app.kubernetes.io/name<span class="token operator">=</span>argocd-server <span class="token parameter variable">-o</span> name <span class="token operator">|</span> <span class="token function">cut</span> -d<span class="token string">&#39;/&#39;</span> <span class="token parameter variable">-f</span> <span class="token number">2</span><span class="token variable">\`</span></span>
<span class="token comment">## 使用 Argo CD CLI 登录</span>
Argo CD login <span class="token number">192.168</span>.20.240:31195 <span class="token parameter variable">--username</span> admin <span class="token parameter variable">--password</span> <span class="token variable">$podName</span>
<span class="token comment">## 修改默认密码</span>
Argo CD account update-password --current-password <span class="token variable">$podName</span> --new-password Argo CD@123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function h(g,k){const o=l("ExternalLinkIcon"),n=l("router-link");return i(),c("div",null,[a("blockquote",null,[a("p",null,[a("a",m,[e("https://mp.weixin.qq.com/s/SmH663CN5cBDe86-WToAXg"),s(o)])])]),d(" more "),a("nav",v,[a("ul",null,[a("li",null,[s(n,{to:"#部署-argocd"},{default:r(()=>[e("部署 ArgoCD")]),_:1}),a("ul",null,[a("li",null,[s(n,{to:"#yaml部署"},{default:r(()=>[e("yaml部署")]),_:1})]),a("li",null,[s(n,{to:"#helm部署"},{default:r(()=>[e("helm部署")]),_:1})]),a("li",null,[s(n,{to:"#查看运行"},{default:r(()=>[e("查看运行")]),_:1})]),a("li",null,[s(n,{to:"#安装-argo-cd-cli"},{default:r(()=>[e("安装 Argo CD CLI")]),_:1})])])])])]),b])}const C=t(u,[["render",h],["__file","15.Argo CD.html.vue"]]);export{C as default};
